<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <!-- 
       <script>
        //새로운 promise가 만들어지면 익스큐터 (리졸브 , 리젝트) 는 바로 자동실행 됩니다.
        const promise = new Promise((resolve, reject) => {
            console.log("뭐든지 해봅시다");
            setTimeout(()=>{
                // resolve("도현")
                reject(new Error('정신 차리고 다시 쓰세요'));
            },2000);
        });

        //사용하기  then , catch,  finally
        promise
        .then(value=>{  //then의 콜백함수의 파라미터는 리졸브로 전달받은 값. ===도현
            console.log(value);
        })
        .catch(error =>{ // catch의 콜백함수의 파라미터는 리젝트로 전달받은 값. === Error 블라블라
            console.log(error);
        })
        .finally(()=>{
            console.log("파이널리는 무저끈 출력됩니다.")
        })
    </script>
    -->
    <!--
    <script>
        const fetchNumber = new Promise((resolve, reject)=>{
            console.log("여러분 패치 넘버 프로미스가 생성됐습니다.")
            setTimeout(()=> resolve(1) ,1000)
        })

        fetchNumber
        .then(num => num * 2)
        .then(num => num * 3)
        .then(num => {
            return new Promise((resolve, reject)=>{
                setTimeout(()=> resolve(num - 1),1000)
            })
        })
        .then(num => console.log(num));
    </script>
    -->
    <script>
				const numArr = [0,1,2,3,4,5,6,7,8,9,10];
				const evenNumFilter = arr => arr.filter(num => num % 2 === 0) 

				const numberChecker = new Promise((resolve, reject)=>{
            console.log("여러분 넘버체커가 생성되었습니다.")
            setTimeout(()=>{
                resolve(numArr)
                // reject(new Error("당신. 오류를 범했습니다."))
            },2000)
        })

        numberChecker//
					.then(num => { 
						return new Promise((resolve, reject)=> {
							setTimeout(()=>{resolve(console.log(evenNumFilter(num)))
							},1000)
						})
					})				
					.then(nnn => console.log(nnn))	
					.finally(()=>{console.log("넘버체커 송신 종료~")})
					
					

    </script>
</body>
</html>